-- MySQL Script generated by MySQL Workbench
-- Tue Mar 18 10:23:59 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema cf_teste
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema cf_teste
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `cf_teste` DEFAULT CHARACTER SET utf8 ;
USE `cf_teste` ;

-- -----------------------------------------------------
-- Table `cf_teste`.`USUARIO_NIVEL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`USUARIO_NIVEL` (
  `COD_NIVEL` INT NOT NULL,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_NIVEL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`USUARIO` (
  `COD_USUARIO` VARCHAR(25) NOT NULL,
  `MATRICULA` VARCHAR(45) NOT NULL,
  `COD_NIVEL` INT NOT NULL,
  `SENHA` VARCHAR(45) NOT NULL,
  `EMAIL` VARCHAR(45) NOT NULL,
  `CARGO` INT NOT NULL,
  PRIMARY KEY (`COD_USUARIO`),
  INDEX `FK_USUARIO_USUARIO_NIVEL_idx` (`COD_NIVEL` ASC),
  CONSTRAINT `FK_USUARIO_USUARIO_NIVEL`
    FOREIGN KEY (`COD_NIVEL`)
    REFERENCES `cf_teste`.`USUARIO_NIVEL` (`COD_NIVEL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`CLIENTE` (
  `COD_CLIENTE` INT NOT NULL,
  `NOME` VARCHAR(30) NOT NULL,
  `TELEFONE` VARCHAR(30) NOT NULL,
  `ENDERECO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_CLIENTE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`EQUIPAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`EQUIPAMENTO` (
  `COD_EQUIPAMENTO` INT NOT NULL,
  `COD_CLIENTE` INT NOT NULL,
  `DESCRCAO` VARCHAR(45) NOT NULL,
  `MARCA` VARCHAR(45) NOT NULL,
  `DT_ULT_MANUTECAO` DATE NULL,
  PRIMARY KEY (`COD_EQUIPAMENTO`),
  INDEX `FK_EQUIPAMENTO_CLIENTE_idx` (`COD_CLIENTE` ASC),
  CONSTRAINT `FK_EQUIPAMENTO_CLIENTE`
    FOREIGN KEY (`COD_CLIENTE`)
    REFERENCES `cf_teste`.`CLIENTE` (`COD_CLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`OS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`OS` (
  `COD_OS` INT NOT NULL,
  `COD_CLIENTE` INT NULL,
  `TIPO_SERVICO` INT NOT NULL,
  `DATA_CADASTRO` DATE NULL,
  `DATA_FIM` DATE NULL,
  `STATUS` VARCHAR(1) NULL,
  `VALOR_TOTAL` FLOAT(10,2) NULL,
  PRIMARY KEY (`COD_OS`),
  INDEX `fk_OS_CLIENTE_idx` (`COD_CLIENTE` ASC),
  CONSTRAINT `fk_OS_CLIENTE`
    FOREIGN KEY (`COD_CLIENTE`)
    REFERENCES `cf_teste`.`CLIENTE` (`COD_CLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`OS_EQUIPAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`OS_EQUIPAMENTO` (
  `COD_OS` INT NOT NULL,
  `COD_EQUIPAMENTO` INT NULL,
  `COD_ITEM` INT NULL,
  `SERVICO_REALIZADO` VARCHAR(45) NOT NULL,
  `VALOR_MATERIAIS` DECIMAL(10,2) NULL,
  `VALOR_M_OBRA` DECIMAL(10,2) NULL,
  PRIMARY KEY (`COD_OS`),
  INDEX `FR_OS_EQUIPAMENTO_EQUIPAMENTO_idx` (`COD_EQUIPAMENTO` ASC),
  CONSTRAINT `FK_OS_EQUIPAMENTO_EQUIPAMENTO`
    FOREIGN KEY (`COD_EQUIPAMENTO`)
    REFERENCES `cf_teste`.`EQUIPAMENTO` (`COD_EQUIPAMENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_OS_EQUIPAMENTO_OS`
    FOREIGN KEY (`COD_OS`)
    REFERENCES `cf_teste`.`OS` (`COD_OS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`ITEM`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`ITEM` (
  `COD_ITEM` INT NOT NULL,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  `VALOR_COMPRA_UNITARIO` DECIMAL(10,2) NULL,
  `VALOR_VENDA_UNITARIO` DECIMAL(10,2) NULL,
  `SALDO_VALOR` DECIMAL(10,2) NULL,
  `UNIDADE_MEDIDA` VARCHAR(10) NULL,
  `OBS` VARCHAR(35) NULL,
  `DT_ULT_COMPRA` DATE NULL,
  PRIMARY KEY (`COD_ITEM`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`OS_ITEM_EQUIPAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`OS_ITEM_EQUIPAMENTO` (
  `COD_OS` INT NOT NULL,
  `COD_EQUIPAMENTO` INT NOT NULL,
  `COD_ITEM` INT NULL,
  `QTD` INT NULL,
  `VALOR_UNITARIO` DECIMAL(10,2) NULL,
  `VALOR_TOTAL_ITEM` DECIMAL(10,2) NULL,
  INDEX `FK_ITEM_EQUIPAMENTO_OS_EQUIPAMENTO_idx` (`COD_EQUIPAMENTO` ASC),
  INDEX `FK_OS_ITEM_EQUIPAMENTO_OS_EQUIPAMENTO_idx` (`COD_OS` ASC),
  INDEX `KF_OS_ITEM_EQUIAPEMTNO_ITEM_idx` (`COD_ITEM` ASC),
  CONSTRAINT `FK_ITEM_EQUIPAMENTO_OS_EQUIPAMENTO`
    FOREIGN KEY (`COD_EQUIPAMENTO`)
    REFERENCES `cf_teste`.`OS_EQUIPAMENTO` (`COD_EQUIPAMENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_OS_ITEM_EQUIPAMENTO_OS_EQUIPAMENTO`
    FOREIGN KEY (`COD_OS`)
    REFERENCES `cf_teste`.`OS_EQUIPAMENTO` (`COD_OS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `KF_OS_ITEM_EQUIAPEMTNO_ITEM`
    FOREIGN KEY (`COD_ITEM`)
    REFERENCES `cf_teste`.`ITEM` (`COD_ITEM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`CONTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`CONTA` (
  `COD_CONTA` INT NOT NULL,
  `BANCO` VARCHAR(30) NOT NULL,
  `SALDO_ATUAL` DECIMAL(10,2) NOT NULL,
  `PIX` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_CONTA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`CONTA_EXTRATO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`CONTA_EXTRATO` (
  `COD_MOVIMENTO` INT NOT NULL,
  `COD_CONTA` INT NOT NULL,
  `DATA_MOVIMENTO` DATE NOT NULL,
  `TIPO_MOVIMENTO` INT NOT NULL,
  `DESCRICAO` VARCHAR(45) NOT NULL,
  `VALOR` DECIMAL(10,2) NOT NULL,
  `SALDO_ANTERIOR` DECIMAL(10,2) NOT NULL,
  `SALDO_ATUAL` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`COD_MOVIMENTO`),
  INDEX `FK_CONTA_EXTRATO_CONTA_idx` (`COD_CONTA` ASC),
  CONSTRAINT `FK_CONTA_EXTRATO_CONTA`
    FOREIGN KEY (`COD_CONTA`)
    REFERENCES `cf_teste`.`CONTA` (`COD_CONTA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`COMPRA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`COMPRA` (
  `COD_COMPRA` INT NOT NULL,
  `COD_MOVIMENTO` INT NULL,
  `COD_FORNECEDOR` INT NOT NULL,
  `DT_COMPRA` DATE NOT NULL,
  `STATUS` VARCHAR(1) NULL,
  `VALOR_TOTAL` DECIMAL(10,2) NULL,
  PRIMARY KEY (`COD_COMPRA`),
  INDEX `FK_CONTA_EXTRATO_COMPRA_idx` (`COD_MOVIMENTO` ASC),
  CONSTRAINT `FK_CONTA_EXTRATO_COMPRA`
    FOREIGN KEY (`COD_MOVIMENTO`)
    REFERENCES `cf_teste`.`CONTA_EXTRATO` (`COD_MOVIMENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`COMPRA_ITEM`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`COMPRA_ITEM` (
  `COD_COMPRA` INT NOT NULL,
  `COD_ITEM` INT NULL,
  `QUANTIDADE` INT NULL,
  `VALOR_UNIDADE` DECIMAL(10,2) NULL,
  `VALOR_TOTAL_ITEM` DECIMAL(10,2) NULL,
  PRIMARY KEY (`COD_COMPRA`),
  INDEX `FK_COMPRA_ITEM_ITEM_idx` (`COD_ITEM` ASC),
  CONSTRAINT `FK_COMPRA_ITEM_ITEM`
    FOREIGN KEY (`COD_ITEM`)
    REFERENCES `cf_teste`.`ITEM` (`COD_ITEM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ITEM_COMPRA_COMPRA`
    FOREIGN KEY (`COD_COMPRA`)
    REFERENCES `cf_teste`.`COMPRA` (`COD_COMPRA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`VENDA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`VENDA` (
  `COD_VENDA` INT NOT NULL,
  `COD_MOVIMENTO` INT NULL,
  `DATA_VENDA` DATE NULL,
  `STATUS` VARCHAR(1) NULL,
  `PAGAMENTO` VARCHAR(15) NULL,
  `VALOR_TOTAL` DECIMAL(10,2) NULL,
  PRIMARY KEY (`COD_VENDA`),
  INDEX `FK_CONTA_EXTRATO_VENDA_idx` (`COD_MOVIMENTO` ASC),
  CONSTRAINT `FK_CONTA_EXTRATO_VENDA`
    FOREIGN KEY (`COD_MOVIMENTO`)
    REFERENCES `cf_teste`.`CONTA_EXTRATO` (`COD_MOVIMENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`VENDA_ITEM`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`VENDA_ITEM` (
  `COD_VENDA` INT NOT NULL,
  `COD_ITEM` INT NULL,
  `DESCRICAO_ITEM` VARCHAR(45) NULL,
  `QUANTIDADE` INT NULL,
  `VALOR_UND` DECIMAL(10,2) NULL,
  `VALOR_TOTAL_ITEM` DECIMAL(10,2) NULL,
  PRIMARY KEY (`COD_VENDA`),
  INDEX `FK_VENDA_ITEM_ITEM_idx` (`COD_ITEM` ASC),
  CONSTRAINT `FK_VENDA_ITEM_VENDA`
    FOREIGN KEY (`COD_VENDA`)
    REFERENCES `cf_teste`.`VENDA` (`COD_VENDA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_VENDA_ITEM_ITEM`
    FOREIGN KEY (`COD_ITEM`)
    REFERENCES `cf_teste`.`ITEM` (`COD_ITEM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `cf_teste`.`COMPRA_APROVACAO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `cf_teste`.`COMPRA_APROVACAO` (
  `COD_APROVACAO` INT NOT NULL,
  `COD_COMPRA` INT NOT NULL,
  `STATUS` VARCHAR(1) NOT NULL,
  PRIMARY KEY (`COD_APROVACAO`),
  INDEX `FK_COMPRA_APROVACAO_COMPRA_idx` (`COD_COMPRA` ASC),
  CONSTRAINT `FK_COMPRA_APROVACAO_COMPRA`
    FOREIGN KEY (`COD_COMPRA`)
    REFERENCES `cf_teste`.`COMPRA` (`COD_COMPRA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
